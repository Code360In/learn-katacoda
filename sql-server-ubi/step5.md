# Connect to SQL Server and Query Data

Run the script to install the Pubs database

`/opt/mssql-tools/bin/sqlcmd -S localhost -U SA -P 'RedHat1!' -N -C -i /var/opt/mssql/scripts/InstPubs.sql`{{execute T3}}

<pre class="file">
Changed database context to 'master'.
Beginning InstPubs.SQL at 05 Aug 2020 07:40:35:033 ....
Creating pubs database....
Changed database context to 'pubs'.
Now at the create table section ....
Now at the create trigger section ...
Now at the inserts to authors ....
Now at the inserts to publishers ....
Now at the inserts to pub_info ....
Now at the inserts to titles ....
Now at the inserts to titleauthor ....
Now at the inserts to stores ....
Now at the inserts to sales ....
Now at the inserts to roysched ....
Now at the inserts to discounts ....
Now at the inserts to jobs ....
Now at the inserts to employee ....
Now at the create index section ....
Now at the create view section ....
Now at the create procedure section ....
Changed database context to 'master'.
Ending InstPubs.SQL at 05 Aug 2020 07:40:37:823 ....
</pre>

Now that the data is loaded, query the data in the Pubs database

> How about finding the store name of the top performing store and the total sales for that store?  

`/opt/mssql-tools/bin/sqlcmd -S localhost -U SA -P 'RedHat1!' -d pubs -N -C -Q "SELECT TOP 1 stores.stor_name as storename, sum(sales.qty) as sumqty FROM stores JOIN sales ON stores.stor_id = sales.stor_id GROUP BY stores.stor_id, stores.stor_name ORDER BY sumqty DESC"`{{execute T3}}

<pre class="file">
storename                                sumqty
---------------------------------------- -----------
Doc-U-Mat: Quality Laundry and Books             130

(1 rows affected)
</pre>

Now, keep an open TCP connection to the SQL Server so that you can come back and execute any ad-hoc T-SQL statement

`/opt/mssql-tools/bin/sqlcmd -S localhost -U SA -P 'RedHat1!' -d pubs`{{execute T3}}
